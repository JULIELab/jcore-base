language: java
env:
  global:
  - secure: hnrLLELr3qRRVTVYEvB2/MUudmWX+we8ojMAMkKp1ZnKap42YaUfNtdIBywvLACrJwx+r3zxpgpneej5orU5JBKpylgpm8aA1Jv+FmbiHCL9KdRKNcg8UWsgqdMPqvTXV/8G+8Amk2YAKxS0QSfxwQmaM6g5UleqqwjRPKQDMWtz0PzTPRUYtlXGLUVNHlntU7gtAQFCurHUIklL5pGT3NFviH0IWOnC1W/E+S64OlhdUcBULFdxLazUfi6IGuX5N5qpL4FCjoFZOIFLpB3bXY6yi2sDQQH1OxaucoMYBVxlBMRQ06Z0MPZvPcNq4uy+0dPnHXan9btqnhDULF9poJARbFytNHq8b9Yz0fV5FkyZZOOx6Av2a6WHYRPOtOS6u6hZYJL+vUrhXeQA8Qx4HgvhiA/P2nBYPdNgF3SXs3OdT34yvZmIXdtUOjO2BJ0FKN1F0jIb9S6MDo0NNyeIVnqIHKmYXpo2lTk/IdKp+SKsj2pdvz3Rkpw6veC4Dz3EIUGXVH3OrmqzhHctARraifXgDwcZTuPVtrYZwA0viXwch1nHvrpKBBS5mIKZ4DzEZgk6XS5mIWvALELYYFr1KLa6DUBRg8PkPoigAO3x6MocehZy8qyxLt3bItAGP9SNXlssKO5cvLz5PDqwDx9rxlqYvt6z8FK3LKcCt7lFXCg=
  - # SONATYPE_USERNAME
  - secure: ATBiHXF5fi+hVQjsNCItWeVLgJedVmGLVxBWoYSV5dfzVfhF9Ub8OkVMIt1bQLO/bE/7476ErRga8DONhxsnZAYgXlbBHToSmzEw5kiQiknUQoGV2MYUW03qRotrCjyEDDyyfrbeAsf7Ov5JyijeMSJ83OsJBVACv5WI3gsKsMh43SXXW7VhA0dVBOMAtwUhLgnFVuwmPOjuVsIv7Xn+eKOSSCLsr6UmjCH0l23Bs5Dm+kW+EayjNBVlpHkONVTPgiP35oK1MGiHED1HM04civbiUI8N7X3QminKfCxA/+HtlerYfYFdzepWirhFneekwGwqaKXxpvsfbpaUrhBpBLbQml07qXZFyw9f90pNtM5/PPT6cLmdSKGQs2zb8rSB0XWnJ5CxhrVsSkG3TOeF2YUTP0m1FYi1aqUsBf8uvNKeeUarZHIO0gR7/Qfo5GO76OYjC3p8dfe77v1Nh7DFqmLa1iW9GWQsXqrefivRGGqJwjkzFy1zeyyD2uwxJGjZSfnBsMeJ2WYqjgClRre83G7DNxFk8RTgAO5GGqJsPtbvzAG7nf2khmMQ3RrCp5fyEvKhqIDKFg0wbDF+5nTO7G9r0czz38gf0dUL6/IKOXrTzMqCus+Yj6qNYRo/RJxq9WpBHgNAGLZHRSYiNUxnQ4MwbvPLrC82bXslQRUBfDs=
  - # SONATYPE_PASSWORD
  - secure: 3YKZ9FsaSNQAT4/WylKGOYBvu9fe20OdU6Q4D93G9MzeSi9ZutQdGUBWqXQVclLxPVX2xJYYvHobEj/NRLycYZnPTx9h2j1P13psBi9hr3xDBONokB4vQB8atoriwgd9vSYvQAlj5H/62J5bUZwW5tpLnd1hzxd8hEErjeBF7IWn8LqttrpfoCVr5sXtncG7dMMOBdjn15hHTdvAiLmBsL4kjD6yVTQc6KX0P5AZXfiUrGNtnoTXauIFWRcnJ26Bh3PE6AljO3pfGD0zoVXbNtz6SHJ3jbviSPVDiYpBzp3ofMjVlnkSnLNhI5a8LiX57NeExEiLJaPSDh1kJh7WDZBqod7SkXbbjD4ktSv6m83SsOvS0g3PSNooTANqfZIVJw+rGrfSa5exvcO8StaUTQPgkstpXSI3xOzTNc/GQfxvX/2Kv8J35sRTMJx591rwEEhVFVl0DaYzKfdFIWI8agvdvqLWfFyASpqWYS+ISFWKr96UlXC92+YdvfSbVtt5FsUkgBNmZ7b9G6U2GTDHAOEJijp77fdhUwq2d0xKWsfXoodxo8zQpy2rGL64jJ5ggjBOYwrXyoO0qKvgCpRHbIXBFLJDZgl6vbcbsWRwIqpqH5E+ZXGfFP1OEKfe/CIAUD6pUnjqLHMWPYKy/Nwlh20BZq01XTCofVqevpjtzZA=
  - # GPG_KEY_NAME
  - secure: XgTdmghEabMp6Z/tMMk6uOMEvJr4ERTSIxSeA09Kcf/fo5kgfWyQHVY9oNtDIe9qIyeIIzC6lENr4hCdrXUcmAgWFuArw+ueGSuWw+JE6m45dF9tYICN0+ukjQqT4+Cp7/1lQdegReQILOUM+boovswOq9JiGG8NfidH0okS5LZsCBH8RXquc+TbowD2kEUGgjkJ2X888h4A1sXPxAy4geDWtzaTCJ0P6YQZS1Fi86LamauGzfDxYjFt1BBTG7XN7yz03/3scRH25IB+r4eEySA31+k0MwxnMp6NWwKocVL3xsFTACNSUoOTBMniWZJAs+3FKJ+TVABunqdyJFue/JK0/UIFRBZ2XSahlcCI9aiVAHVcvq6KA7StdH0jnrb5nyuH7a0Ijv5fImzRUSGkVI+PoKep3JLPPH0RKhVQPRtHhNWqtH1OlPVYtmU1WB0HzWEs+GULS784N7rcKNvIoxJbFLSDnyi/XAX02K1JE9RCJrsAaiRNZwWb/PUW7wOXN3QIslmEnpcu8G+H2dcn3NkZgCpFTPo25NA56NcnlcX0QTtnX8Q3ouD4F/3UrMryrSzhEswQWYsa4oQI8KedYi75lbrkhtLl6QeQ6tqg9mh7stx91RyYnvlWRvT/ObTrjIF5US9xQ0zOqrp4aUDg3LCGawQ5rcrAZClDsdUoaos=
  - # GPG_PASSPHRASE

install: mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn test -B

cache:
  directories:
    - $HOME/.m2/repository

before_deploy: ./travis-deployment/before-deploy.sh
deploy:
  provider: script
  script: ./travis-deployment/deploy.sh
  on:
    all_branches: true
    condition: $TRAVIS_BRANCH =~ ^2.3.0-SNAPSHOT|master$